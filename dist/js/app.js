'use strict';

$(document).ready(function () {
    var database = {
        questions: [{
            title: 'Вопрос №1',
            radioname: 'one',
            id: ['1', '2', '3'],
            answers: ['Вариант ответа №1', 'Вариант ответа №2', 'Вариант ответа №3'],
            correct: 1
        }, {
            title: 'Вопрос №2',
            radioname: 'two',
            id: ['1', '2', '3'],
            answers: ['Вариант ответа №1', 'Вариант ответа №2', 'Вариант ответа №3'],
            correct: 2
        }, {
            title: 'Вопрос №3',
            radioname: 'three',
            id: ['1', '2', '3'],
            answers: ['Вариант ответа №1', 'Вариант ответа №2', 'Вариант ответа №3'],
            correct: 3
        }]
    };

    localStorage.setItem('test', JSON.stringify(database));

    var data = JSON.parse(localStorage.getItem('test'));

    var html = $('#test').html();
    var content = tmpl(html, data);
    $('body').append(content);

    function showModal(e) {
        e.preventDefault();

        var modal = $('<div class="modal"></div>');
        var result = 0;
        var answer = $('input:checked');
        var correct = [];

        for (var i = 0; i < data.questions.length; i++) {
            correct[i] = data.questions[i].correct;
            if ($(answer[i]).attr('id') == correct[i]) {
                result += 1;
                modal.append('<p class="correct">Ответ на ' + (i + 1) + ' вопрос правильный</p>');
            } else {
                modal.append('<p class="incorrect">Ответ на ' + (i + 1) + ' вопрос неправильный</p>');
            }
        }

        modal.append('<button>Закрыть и начать заново</button>');
        $('body').append(modal);

        $('button').one('click', function (e) {
            e.preventDefault();
            modal.detach();
            $('input').attr('checked', false);
        });
    }

    $('button').on('click', showModal);
});
"use strict";

// Simple JavaScript Templating
// John Resig - http://ejohn.org/ - MIT Licensed
(function () {
    var cache = {};

    this.tmpl = function tmpl(str, data) {
        // Figure out if we're getting a template, or if we need to
        // load the template - and be sure to cache the result.
        var fn = !/\W/.test(str) ? cache[str] = cache[str] || tmpl(document.getElementById(str).innerHTML) :

        // Generate a reusable function that will serve as a template
        // generator (and which will be cached).
        new Function("obj", "var p=[],print=function(){p.push.apply(p,arguments);};" +

        // Introduce the data as local variables using with(){}
        "with(obj){p.push('" +

        // Convert the template into pure JavaScript
        str.replace(/[\r\t\n]/g, " ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g, "$1\r").replace(/\t=(.*?)%>/g, "',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'") + "');}return p.join('');");

        // Provide some basic currying to the user
        return data ? fn(data) : fn;
    };
})();
//# sourceMappingURL=data:application/json;base64,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TSxHQUFOLElBQWEsTUFBTSxHQUFOLEtBQ1QsS0FBSyxTQUFTLGNBQVQsQ0FBd0IsR0FBeEIsRUFBNkIsU0FBbEMsQ0FGQzs7OztBQU1MLFlBQUksUUFBSixDQUFhLEtBQWIsRUFDSTs7O0FBR0EsNEJBSEE7OztBQU1BLFlBQ0ssT0FETCxDQUNhLFdBRGIsRUFDMEIsR0FEMUIsRUFFSyxLQUZMLENBRVcsSUFGWCxFQUVpQixJQUZqQixDQUVzQixJQUZ0QixFQUdLLE9BSEwsQ0FHYSxrQkFIYixFQUdpQyxNQUhqQyxFQUlLLE9BSkwsQ0FJYSxhQUpiLEVBSTRCLFFBSjVCLEVBS0ssS0FMTCxDQUtXLElBTFgsRUFLaUIsSUFMakIsQ0FLc0IsS0FMdEIsRUFNSyxLQU5MLENBTVcsSUFOWCxFQU1pQixJQU5qQixDQU1zQixVQU50QixFQU9LLEtBUEwsQ0FPVyxJQVBYLEVBT2lCLElBUGpCLENBT3NCLEtBUHRCLENBTkEsR0FjRSx3QkFmTixDQU5KOzs7QUF3QkEsZUFBTyxPQUFPLEdBQUksSUFBSixDQUFQLEdBQW9CLEVBQTNCO0FBQ0gsS0E1QkQ7QUE2QkgsQ0FoQ0QiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJChkb2N1bWVudCkucmVhZHkoKCkgPT4ge1xuICAgIGxldCBkYXRhYmFzZSA9IHtcbiAgICAgICAgcXVlc3Rpb25zOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGl0bGU6ICfQktC+0L/RgNC+0YEg4oSWMScsXG4gICAgICAgICAgICAgICAgcmFkaW9uYW1lOiAnb25lJyxcbiAgICAgICAgICAgICAgICBpZDogWycxJywgJzInLCAnMyddLFxuICAgICAgICAgICAgICAgIGFuc3dlcnM6IFsn0JLQsNGA0LjQsNC90YIg0L7RgtCy0LXRgtCwIOKEljEnLCAn0JLQsNGA0LjQsNC90YIg0L7RgtCy0LXRgtCwIOKEljInLCAn0JLQsNGA0LjQsNC90YIg0L7RgtCy0LXRgtCwIOKEljMnXSxcbiAgICAgICAgICAgICAgICBjb3JyZWN0OiAxXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRpdGxlOiAn0JLQvtC/0YDQvtGBIOKEljInLFxuICAgICAgICAgICAgICAgIHJhZGlvbmFtZTogJ3R3bycsXG4gICAgICAgICAgICAgICAgaWQ6IFsnMScsICcyJywgJzMnXSxcbiAgICAgICAgICAgICAgICBhbnN3ZXJzOiBbJ9CS0LDRgNC40LDQvdGCINC+0YLQstC10YLQsCDihJYxJywgJ9CS0LDRgNC40LDQvdGCINC+0YLQstC10YLQsCDihJYyJywgJ9CS0LDRgNC40LDQvdGCINC+0YLQstC10YLQsCDihJYzJ10sXG4gICAgICAgICAgICAgICAgY29ycmVjdDogMlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aXRsZTogJ9CS0L7Qv9GA0L7RgSDihJYzJyxcbiAgICAgICAgICAgICAgICByYWRpb25hbWU6ICd0aHJlZScsXG4gICAgICAgICAgICAgICAgaWQ6IFsnMScsICcyJywgJzMnXSxcbiAgICAgICAgICAgICAgICBhbnN3ZXJzOiBbJ9CS0LDRgNC40LDQvdGCINC+0YLQstC10YLQsCDihJYxJywgJ9CS0LDRgNC40LDQvdGCINC+0YLQstC10YLQsCDihJYyJywgJ9CS0LDRgNC40LDQvdGCINC+0YLQstC10YLQsCDihJYzJ10sXG4gICAgICAgICAgICAgICAgY29ycmVjdDogM1xuICAgICAgICAgICAgfVxuICAgICAgICBdXG4gICAgfTtcblxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0ZXN0JywgSlNPTi5zdHJpbmdpZnkoZGF0YWJhc2UpKTtcblxuICAgIGxldCBkYXRhID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndGVzdCcpKTtcblxuICAgIGxldCBodG1sID0gJCgnI3Rlc3QnKS5odG1sKCk7XG4gICAgbGV0IGNvbnRlbnQgPSB0bXBsKGh0bWwsIGRhdGEpO1xuICAgICQoJ2JvZHknKS5hcHBlbmQoY29udGVudCk7XG5cblxuICAgIGZ1bmN0aW9uIHNob3dNb2RhbChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBsZXQgbW9kYWwgPSAkKCc8ZGl2IGNsYXNzPVwibW9kYWxcIj48L2Rpdj4nKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IDA7XG4gICAgICAgIGxldCBhbnN3ZXIgPSAkKCdpbnB1dDpjaGVja2VkJyk7XG4gICAgICAgIGxldCBjb3JyZWN0ID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLnF1ZXN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29ycmVjdFtpXSA9IGRhdGEucXVlc3Rpb25zW2ldLmNvcnJlY3Q7XG4gICAgICAgICAgICBpZiAoJChhbnN3ZXJbaV0pLmF0dHIoJ2lkJykgPT0gY29ycmVjdFtpXSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSAxO1xuICAgICAgICAgICAgICAgIG1vZGFsLmFwcGVuZCgnPHAgY2xhc3M9XCJjb3JyZWN0XCI+0J7RgtCy0LXRgiDQvdCwICcgKyAoaSArIDEpICsgJyDQstC+0L/RgNC+0YEg0L/RgNCw0LLQuNC70YzQvdGL0Lk8L3A+Jyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1vZGFsLmFwcGVuZCgnPHAgY2xhc3M9XCJpbmNvcnJlY3RcIj7QntGC0LLQtdGCINC90LAgJyArIChpICsgMSkgKyAnINCy0L7Qv9GA0L7RgSDQvdC10L/RgNCw0LLQuNC70YzQvdGL0Lk8L3A+Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBtb2RhbC5hcHBlbmQoJzxidXR0b24+0JfQsNC60YDRi9GC0Ywg0Lgg0L3QsNGH0LDRgtGMINC30LDQvdC+0LLQvjwvYnV0dG9uPicpO1xuICAgICAgICAkKCdib2R5JykuYXBwZW5kKG1vZGFsKTtcblxuICAgICAgICAkKCdidXR0b24nKS5vbmUoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIG1vZGFsLmRldGFjaCgpO1xuICAgICAgICAgICAgJCgnaW5wdXQnKS5hdHRyKCdjaGVja2VkJywgZmFsc2UpO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgICQoJ2J1dHRvbicpLm9uKCdjbGljaycsIHNob3dNb2RhbCk7XG5cbn0pO1xuIiwiLy8gU2ltcGxlIEphdmFTY3JpcHQgVGVtcGxhdGluZ1xuLy8gSm9obiBSZXNpZyAtIGh0dHA6Ly9lam9obi5vcmcvIC0gTUlUIExpY2Vuc2VkXG4oZnVuY3Rpb24oKXtcbiAgICB2YXIgY2FjaGUgPSB7fTtcblxuICAgIHRoaXMudG1wbCA9IGZ1bmN0aW9uIHRtcGwoc3RyLCBkYXRhKXtcbiAgICAgICAgLy8gRmlndXJlIG91dCBpZiB3ZSdyZSBnZXR0aW5nIGEgdGVtcGxhdGUsIG9yIGlmIHdlIG5lZWQgdG9cbiAgICAgICAgLy8gbG9hZCB0aGUgdGVtcGxhdGUgLSBhbmQgYmUgc3VyZSB0byBjYWNoZSB0aGUgcmVzdWx0LlxuICAgICAgICB2YXIgZm4gPSAhL1xcVy8udGVzdChzdHIpID9cbiAgICAgICAgICAgIGNhY2hlW3N0cl0gPSBjYWNoZVtzdHJdIHx8XG4gICAgICAgICAgICAgICAgdG1wbChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzdHIpLmlubmVySFRNTCkgOlxuXG4gICAgICAgICAgICAvLyBHZW5lcmF0ZSBhIHJldXNhYmxlIGZ1bmN0aW9uIHRoYXQgd2lsbCBzZXJ2ZSBhcyBhIHRlbXBsYXRlXG4gICAgICAgICAgICAvLyBnZW5lcmF0b3IgKGFuZCB3aGljaCB3aWxsIGJlIGNhY2hlZCkuXG4gICAgICAgICAgICBuZXcgRnVuY3Rpb24oXCJvYmpcIixcbiAgICAgICAgICAgICAgICBcInZhciBwPVtdLHByaW50PWZ1bmN0aW9uKCl7cC5wdXNoLmFwcGx5KHAsYXJndW1lbnRzKTt9O1wiICtcblxuICAgICAgICAgICAgICAgIC8vIEludHJvZHVjZSB0aGUgZGF0YSBhcyBsb2NhbCB2YXJpYWJsZXMgdXNpbmcgd2l0aCgpe31cbiAgICAgICAgICAgICAgICBcIndpdGgob2JqKXtwLnB1c2goJ1wiICtcblxuICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgdGhlIHRlbXBsYXRlIGludG8gcHVyZSBKYXZhU2NyaXB0XG4gICAgICAgICAgICAgICAgc3RyXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9bXFxyXFx0XFxuXS9nLCBcIiBcIilcbiAgICAgICAgICAgICAgICAgICAgLnNwbGl0KFwiPCVcIikuam9pbihcIlxcdFwiKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvKChefCU+KVteXFx0XSopJy9nLCBcIiQxXFxyXCIpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXHQ9KC4qPyklPi9nLCBcIicsJDEsJ1wiKVxuICAgICAgICAgICAgICAgICAgICAuc3BsaXQoXCJcXHRcIikuam9pbihcIicpO1wiKVxuICAgICAgICAgICAgICAgICAgICAuc3BsaXQoXCIlPlwiKS5qb2luKFwicC5wdXNoKCdcIilcbiAgICAgICAgICAgICAgICAgICAgLnNwbGl0KFwiXFxyXCIpLmpvaW4oXCJcXFxcJ1wiKVxuICAgICAgICAgICAgICAgICsgXCInKTt9cmV0dXJuIHAuam9pbignJyk7XCIpO1xuXG4gICAgICAgIC8vIFByb3ZpZGUgc29tZSBiYXNpYyBjdXJyeWluZyB0byB0aGUgdXNlclxuICAgICAgICByZXR1cm4gZGF0YSA/IGZuKCBkYXRhICkgOiBmbjtcbiAgICB9O1xufSkoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
